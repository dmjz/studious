{% extends "base.html" %}
{% load static %}

{% block title %}Studious - View lesson{% endblock %}

{% block head %}
<script
    src="https://cdnjs.cloudflare.com/ajax/libs/showdown/1.9.1/showdown.min.js"
    crossorigin="anonymous">
</script>
{% endblock %}

{% block content %}
<h1 class="display-4">{{ lesson.title }}</h1>

<!-- Hidden div to hold lesson text -->
<textarea id="lesson-body-source" class="invisible d-none">{{ lesson.lesson }}</textarea>

<!-- Div to hold HTML converted from Markdown lesson text -->
<div id="lesson-body" class="lesson-group container-fluid"></div>

<!-- Examples -->
<div class="lesson-group container-fluid">
    <div class="row">
        <h4>Examples</h4>
    </div>
    <div class="row white-space-pre">
        <p>{{ lesson.examples }}</p>
    </div>
</div>

<!-- Buttons -->
<div class="lesson-group container-fluid">
    <div class="row">
        <a 
            class="btn btn-primary" 
            href="{% url 'edit' lesson_id=lesson_id %}" 
            role="button"
        >Edit this lesson</a>
        <a 
            class="btn btn-primary" 
            href="{% url 'profile' %}" 
            role="button"
            style="margin-left: 1rem;"
        >Back to my profile</a>
    </div>
</div>
{% endblock %}

{% block endbody %}
<script src="{% static 'lib/view.js' %}"></script>
{% endblock %}