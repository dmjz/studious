{% extends "base.html" %}
{% load static %}

{% block title %}Studious - View lesson{% endblock %}

{% block head %}
<script
    src="https://cdnjs.cloudflare.com/ajax/libs/showdown/1.9.1/showdown.min.js"
    crossorigin="anonymous">
</script>
{% endblock %}

{% block content %}

<!-- Hidden divs to hold raw lesson content -->
<textarea id="lesson-body-source" class="invisible d-none">{{ lesson.lesson }}</textarea>

<!-- Processed lesson content -->
<h1 class="display-3">{{ lesson.title }}</h1>
<div id="lesson-body" class="lesson-group container color-2"></div>
<h4 class="display-4">Examples</h4>
<div class="lesson-group container color-2">
{% for ex in lesson.examples %}
    <div class="row">
        <div class="col-sm-4">
            <p class="lead"><strong>Q: </strong>{{ ex.question }}</p>
        </div>
        <div class="col-sm-4">
            <p class="lead"><strong>A: </strong>{{ ex.answer }}</p>
        </div>
    </div>
{% endfor %}
</div>

<!-- Buttons -->
<div class="lesson-group container-fluid">
    <div class="row">
        <a 
            class="btn btn-primary" 
            href="{% url 'edit' lesson_id=lesson_id %}" 
            role="button"
        >Edit this lesson</a>
        <a 
            class="btn btn-primary" 
            href="{% url 'profile' %}" 
            role="button"
            style="margin-left: 1rem;"
        >Back to my profile</a>
    </div>
</div>
{% endblock %}

{% block endbody %}
<script src="{% static 'lib/view.js' %}"></script>
{% endblock %}